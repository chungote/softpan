DELIMITER $$

DROP PROCEDURE IF EXISTS `SOFTPAN`.`raise_application_error` $$
CREATE PROCEDURE `SOFTPAN`.`raise_application_error` (IN CODE INTEGER, IN MESSAGE VARCHAR(255))
SQL SECURITY INVOKER DETERMINISTIC
BEGIN
  CREATE TEMPORARY TABLE IF NOT EXISTS RAISE_ERROR(F1 INT NOT NULL);

  SELECT CODE, MESSAGE INTO @error_code, @error_message;
 INSERT INTO RAISE_ERROR VALUES(NULL);
END $$

DELIMITER ;